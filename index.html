<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>T·∫∑ng em 20/10 ‚úø</title>
  <style>
    /* N·ªÅn h·ªìng nh·∫°t, n·ªôi dung b·∫Øt ƒë·∫ßu t·ª´ ph√≠a TR√äN */
    html, body {
      height: 100%;
      margin: 0;
      background: #ffe3ed; /* h·ªìng nh·∫°t */
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      color: #ff4d8d; /* h·ªìng ƒë·∫≠m cho ch·ªØ */
      overflow-x: hidden;
    }

    /* Kh·ªëi b·ªë c·ª•c ch√≠nh: b·∫Øt ƒë·∫ßu t·ª´ tr√™n, c√≥ kho·∫£ng tr·ªëng nh·∫π */
    .wrap {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;     /* cƒÉn gi·ªØa theo chi·ªÅu ngang */
      justify-content: flex-start; /* b·∫Øt ƒë·∫ßu t·ª´ TR√äN */
      padding: 20px 16px 60px;
      gap: 14px;
      position: relative;
      z-index: 1;
    }

    /* Canvas ch·ª©a ·∫£nh + n·ªôi dung. ƒê·ªô r·ªông n·ªôi dung = ƒë·ªô r·ªông ·∫£nh */
    .canvas {
      display: inline-block;
      max-width: 92vw;          /* ph·∫£n h·ªìi t·ªët tr√™n mobile */
    }

    .hero {
      display: block;
      width: clamp(280px, 70vw, 760px); /* ki·ªÉm so√°t k√≠ch th∆∞·ªõc ·∫£nh h·ª£p l√Ω */
      height: auto;
      margin: 0 auto 10px;   /* kho·∫£ng c√°ch nh·ªè v·ªõi ph·∫ßn ch·ªØ */
      /* Kh√¥ng ch·ªânh opacity ƒë·ªÉ ·∫£nh gi·ªØ m√†u B√åNH TH∆Ø·ªúNG */
    }

    .typewriter {
      width: 100%;           /* = ƒë·ªô r·ªông c·ªßa container => = ƒë·ªô r·ªông ·∫£nh */
      box-sizing: border-box;
      font-size: 15px;
      line-height: 1.8;
      color: #ff4d8d;         /* ch·ªØ h·ªìng ƒë·∫≠m */
      white-space: pre-wrap;
      text-shadow: 0 0 6px rgba(255, 77, 141, 0.15);
      border-left: 2px solid transparent;
      position: relative;
    }

    .typewriter::after {
      content: "";
      position: absolute;
      width: 10px;
      height: 1.1em;
      left: -2px;
      top: 0.3em;
      background: currentColor; /* d√πng ƒë√∫ng m√†u ch·ªØ h·ªìng ƒë·∫≠m */
      opacity: 0;
      animation: blink 0.9s steps(1, end) infinite;
    }

    @keyframes blink { 50% { opacity: 0; } 0%,100% { opacity: 1; } }

    /* Hoa r∆°i th·∫≥ng xu·ªëng, xoay khi r∆°i, r·ªìi m·ªù d·∫ßn bi·∫øn m·∫•t */
    .petal {
      position: fixed;
      top: -10vh;
      font-size: 18px;
      will-change: transform, opacity;
      pointer-events: none;
      filter: drop-shadow(0 4px 6px rgba(255, 128, 170, 0.35));
      opacity: 0.95;
      animation: fallSpin var(--dur, 10s) linear forwards, fadeout var(--dur, 10s) ease-out forwards;
      z-index: 2;
    }

    @keyframes fallSpin {
      from { transform: translateY(0) rotate(0deg); }
      to   { transform: translateY(120vh) rotate(var(--rot, 720deg)); }
    }

    @keyframes fadeout { 0%, 85% { opacity: 0.95; } 100% { opacity: 0; } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="canvas">
      <!-- ·∫¢nh gi·ªØ m√†u B√åNH TH∆Ø·ªúNG, kh√¥ng b·ªã l√†m m·ªù/overlay -->
      <img src="tanghoa.jpg" alt="T·∫∑ng hoa 20/10" class="hero" />
      <div class="typewriter" id="typeTarget"></div>
    </div>
  </div>

  <script>
    const message = `Ch√†o em,\n\nH√¥m nay l√† 20/10, m·ªôt ng√†y m√† m·ªçi b√¥ng hoa ƒë·ªÅu n·ªü r·ªô, v√† c≈©ng l√† ng√†y m√† anh mu·ªën g·ª≠i nh·ªØng l·ªùi n√†y ƒë·∫øn b√¥ng hoa xinh nh·∫•t v·ªõi anh.\nHii, anh th·∫≠t may m·∫Øn khi ƒë∆∞·ª£c g·∫∑p v√† tr√≤ chuy·ªán v·ªõi em gi√∫p cho m·ªói ng√†y tr√¥i qua v·ªõi anh c√≥ nhi·ªÅu ni·ªÅm vui v√† c√≥ √Ω nghƒ©a h∆°n.\nAnh ch√∫c em 20/10 th·∫≠t vui v·∫ª, h·∫°nh ph√∫c, lu√¥n l√† b√¥ng hoa xinh t∆∞∆°i r·ª±c r·ª°, ch√∫c cho nh·ªØng ƒëi·ªÅu may m·∫Øn v√† t·ªët ƒë·∫πp nh·∫•t s·∫Ω ƒë·∫øn v·ªõi em <3\nV√† anh c≈©ng mong m·ªôt ng√†y n√†o ƒë√≥ s·∫Ω c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·ªìng h√†nh v·ªõi em trong vai tr√≤ ƒë·∫∑c bi·ªát h∆°n ƒë·ªÉ nh·ªØng l·ªùi ch√∫c n√†y c√≥ th·ªÉ g·ª≠i ƒë·∫øn em m·ªói ng√†y ch·ª© kh√¥ng ph·∫£i ƒë·ª£i ƒë·∫øn nh·ªØng d·ªãp ƒë·∫∑c bi·ªát.\nG·ª≠i em- b√¥ng hoa xinh\nTh√¢n g·ª≠i,\nNg∆∞·ªùi th∆∞∆°ng em.`;

    const target = document.getElementById('typeTarget');

    function typeWriter(text, speed = 26) {
      return new Promise(resolve => {
        let i = 0;
        const timer = setInterval(() => {
          target.textContent = text.slice(0, i++);
          if (i > text.length) {
            clearInterval(timer);
            resolve();
          }
        }, speed);
      });
    }

    function dropPetals(count = 8, minDur = 9, maxDur = 13) {
      const emojis = ["üå∏","üíÆ","üå∫","üåº"];
      for (let i = 0; i < count; i++) {
        const span = document.createElement('span');
        span.className = 'petal';
        span.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        span.style.left = Math.random() * 100 + 'vw';
        const size = 18 + Math.random() * 14;
        span.style.fontSize = size + 'px';
        const dur = (Math.random() * (maxDur - minDur)) + minDur;
        span.style.setProperty('--dur', dur + 's');
        const rot = Math.random() < 0.5 ? 720 : -720;
        span.style.setProperty('--rot', rot + 'deg');
        document.body.appendChild(span);
        setTimeout(() => span.remove(), (dur + 0.5) * 1000);
      }
    }

    window.addEventListener('load', async () => {
      // G√µ xong m·ªõi cho hoa r∆°i li√™n t·ª•c
      await typeWriter(message, 26);
      setInterval(() => {
        dropPetals(5 + Math.floor(Math.random() * 6)); // 5‚Äì10 b√¥ng/l∆∞·ª£t
      }, 2500);
    });
  </script>
</body>
</html>
